<!DOCTYPE html>
<html lang="zh-TW">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>幸運輪盤抽獎</title>
  <link rel="stylesheet" href="./css/styles.css">
</head>

<body>
  <div class="container">
    <h1>幸運輪盤抽獎</h1>

    <!-- 輪盤容器 -->
    <div id="lottery-container">
      <!-- 輪盤圖片 -->
      <img id="tunableImg" src="images/wheel.svg" alt="抽獎輪盤" class="wheel">
      <!-- 指針圖片 -->
      <img id="arrowImg" src="images/pointer.svg" alt="指針" class="pointer boxJumpAnimatePaused">
    </div>

    <!-- 抽獎說明 -->
    <div class="instructions">
      <p>點擊指針開始抽獎</p>
      <button id="manual-spin">手動抽獎</button>
    </div>

    <!-- 結果彈窗 -->
    <div id="common_pop" class="popup hidden">
      <div class="popup-content">
        <div class="close-btn">&times;</div>
        <h2 id="prizeName"></h2>
        <div class="prize-image">
          <img id="popup_img" src="" alt="獎品圖片">
        </div>
        <div id="prizeTxt" class="prize-text"></div>

        <!-- 獎品結果顯示區域 -->
        <div class="award_result hidden">
          <p>恭喜您獲得了獎品！</p>
        </div>
        <div class="award_result hidden">
          <p>恭喜您獲得了特殊獎品！</p>
        </div>

        <button class="confirm-btn">確定</button>
      </div>
    </div>
  </div>

  <!-- 引入JavaScript文件 -->
  <script type="module">
    import LuckyWheel, { DEFAULT_WHEEL_CONFIG } from './js/lucky-wheel.js';
    
    // 頁面加載完成後的額外初始化
    document.addEventListener('DOMContentLoaded', function () {
      // 關閉彈窗
      document.querySelector('.close-btn').addEventListener('click', function () {
        document.getElementById('common_pop').classList.add('hidden');
      });

      document.querySelector('.confirm-btn').addEventListener('click', function () {
        document.getElementById('common_pop').classList.add('hidden');
      });

      // 手動抽獎按鈕
      document.getElementById('manual-spin').addEventListener('click', function () {
        // 創建輪盤實例，可以自定義配置
        const wheel = new LuckyWheel({
          // 這裡可以覆蓋默認配置
          duration: 5000,
          autoResetDelay: 3000
        });
        wheel.spin();
      });
      
      // 顯示默認配置示例（可選，僅用於演示）
      console.log('默認配置:', DEFAULT_WHEEL_CONFIG);
    });
  </script>
</body>

</html>